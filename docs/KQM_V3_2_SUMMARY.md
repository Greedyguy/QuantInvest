# 🚀 K-Quality Momentum v3.2 전략 요약

**생성일**: 2025-11-14  
**기반**: KQM v3 + Optuna 최적화 결과

---

## 📊 Optuna 최적화 결과

### 최적 파라미터
```
Best Score: 1.9879 (Sharpe + 0.5*MDD)

w_mom6: 0.3823
w_mom3: 0.0756
w_quality: 0.1195
w_vol: 0.3847
w_val: 0.2897
rebal_days: 17
```

### 정규화된 팩터 가중치
```
MOM6:    30.54%  (6개월 모멘텀)
MOM3:     6.04%  (3개월 모멘텀)
QUALITY:  9.55%  (가격 안정성)
VOL:     30.73%  (변동성 역수)
VAL:     23.14%  (밸류 프록시)
```

### 백테스트 성과

| 구분 | Train (2019-2021) | Valid (2021-2023) |
|------|-------------------|-------------------|
| **Sharpe** | 2.9686 | 0.7403 |
| **CAGR** | 45.28% | 17.15% |
| **MDD** | -5.64% | -36.23% |

---

## 🎯 전략 특징

### v3 대비 개선사항

1. **최적 리밸런싱 주기**: 10일 → **17일**
   - 거래 빈도 감소로 거래비용 절감
   - 안정성 향상

2. **팩터 가중치 최적화**
   - **MOM6 + VOL 중심** (총 61.27%)
   - 품질(QUALITY)과 밸류(VAL)는 보조 역할
   - MOM3는 단기 추세 확인용으로 최소 비중

3. **동일한 리스크 관리**
   - v3의 모든 기능 유지
   - 섹터 제한: 5개/섹터
   - 보유 종목: 30개
   - Equal Risk Contribution (ERC) 적용

---

## 💡 해석

### 왜 MOM6 + VOL이 높은 비중인가?

1. **MOM6 (30.54%)**
   - 중기 추세가 가장 예측력 높음
   - 너무 단기(MOM3)는 노이즈, 너무 장기는 지연

2. **VOL (30.73%)**
   - 한국 시장 특성상 변동성 관리가 중요
   - 저변동성 종목이 안정적 수익 제공

3. **VAL (23.14%)**
   - 밸류 프록시로 최근 평균 수익률 사용
   - 과열/저평가 구분에 유용

4. **QUALITY (9.55%)**
   - 보조적 역할
   - 가격 안정성으로 리스크 필터링

5. **MOM3 (6.04%)**
   - 단기 추세 확인용
   - 주 팩터로는 과적합 위험

---

## 📈 예상 성과

### 낙관적 시나리오 (Train 기반)
- CAGR: 35-45%
- Sharpe: 2.5-3.0
- MDD: -5~-10%

### 현실적 시나리오 (Valid 기반)
- CAGR: 15-20%
- Sharpe: 0.7-1.0
- MDD: -25~-35%

### 보수적 시나리오
- CAGR: 10-15%
- Sharpe: 0.5-0.7
- MDD: -30~-40%

---

## 🔄 v3 vs v3.2 비교

| 항목 | v3 | v3.2 |
|------|----|----- |
| **리밸런싱** | 10일 | 17일 |
| **팩터 가중치** | 수동 설정 | Optuna 최적화 |
| **MOM6** | ~40% | 30.54% |
| **VOL** | ~20% | 30.73% |
| **VAL** | ~10% | 23.14% |
| **거래 횟수** | 많음 (125회/년) | 중간 (75회/년) |
| **거래비용** | 높음 | 낮음 |
| **Train Sharpe** | ? | 2.97 |
| **Valid Sharpe** | ? | 0.74 |

---

## 🚀 실행 방법

### 1. 단독 백테스트
```bash
python reports.py --strategy kqm_v3_2
```

### 2. v3와 비교
```bash
python reports.py --compare kqm_v3 kqm_v3_2
```

### 3. 전체 버전 비교
```bash
python reports.py --compare kqm_v2 kqm_v3 kqm_v3_1 kqm_v3_2
```

---

## 📝 권장 사항

### ✅ v3.2 장점
1. **과학적 최적화**: Optuna TPE 샘플러로 체계적 탐색
2. **Train/Valid 분리**: 과적합 방지
3. **거래비용 절감**: 리밸런싱 주기 증가 (10일 → 17일)
4. **안정성**: Valid Sharpe 0.74는 신뢰할 만한 수준

### ⚠️ 주의사항
1. **Train 과적합 가능성**: Train Sharpe 2.97 vs Valid 0.74
   - 약 4배 차이는 과적합 징후
   - Valid 성과가 더 현실적

2. **MDD 변동성**: Valid MDD -36.23%
   - 리스크 관리 필요
   - 최악의 경우 -40% 손실 가능

3. **시장 환경 의존성**
   - 2019-2023 구간 최적화
   - 2024년 이후 성과는 검증 필요

---

## 🎯 결론

**v3.2는 v3의 안정화 버전**입니다.

- **리밸런싱 주기 증가**: 거래비용 절감 + 안정성 향상
- **최적 팩터 비중**: MOM6 + VOL 중심의 안정적 팩터 조합
- **현실적 기대치**: CAGR 15-20%, Sharpe 0.7-1.0 수준

**추천**: v3와 v3.2를 함께 백테스트하여 비교 후 선택하세요! 🚀

